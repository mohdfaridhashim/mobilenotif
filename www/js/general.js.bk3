function utoa(a){return window.btoa(a)}function saveInClient(a,b){"undefined"!=typeof Storage&&localStorage.setItem(a,b)}function logOut(){localStorage.removeItem("nano"),window.location.href="index.html"}function getFeatureIMG(a,b){var d=a;$.ajax({type:"GET",url:serverUrl+"/wp-json/wp/v2/media/"+d,dataType:"json",async:!1,headers:{Authorization:"Basic "+localStorage.nano},statusCode:{403:function(a){alert("Wrong Username and Password",null,"Wrong Creds","Try Again")},401:function(a){alert("Wrong Username and Password",null,"Wrong Creds","Try Again")}},success:function(a){console.log(a);var c=a.media_details.sizes.medium_large.source_url;console.log(c);var d=a.alt_text;saveInClient("theimg",c),saveInClient("thealt",d)}})}function gotoCatPage(a){"info"==a&&(saveInClient("categoryID",info),window.location.href="main.html"),"theevent"==a&&(saveInClient("categoryID",theevent),window.location.href="main.html"),"vol"==a&&(saveInClient("categoryID",vol),window.location.href="main.html")}function defaultCatPage(a){var b=a;b==info&&($("#event").removeClass("active"),$("#vol").removeClass("active"),$("#info").addClass("active")),b==theevent&&($("#info").removeClass("active"),$("#vol").removeClass("active"),$("#theevent").addClass("active")),b==vol&&($("#info").removeClass("active"),$("#event").removeClass("active"),$("#vol").addClass("active"))}function gotoPostPage(a){saveInClient("postdetailID",a),window.location.href="postpage.html"}function goBack(){window.location.href="main.html"}function getPostDetail(a){var b=a;$.ajax({type:"GET",url:serverUrl+"/wp-json/wp/v2/posts/"+b,dataType:"json",async:!1,headers:{Authorization:"Basic "+localStorage.nano},statusCode:{403:function(a){alert("Wrong Username and Password",null,"Wrong Creds","Try Again")},401:function(a){alert("Wrong Username and Password",null,"Wrong Creds","Try Again")}},success:function(a){console.log(a);var b="",c=a.title.rendered,e=(a.link,a.date),f=a.id,g=a.content.rendered,h=a.featured_media;b+='<h1 id="thetitle">',b+=c,b+="</h1>",b+="<hr>",b+='<p><span class="glyphicon glyphicon-time"></span><span id="thedate"> Posted on ',b+=e,b+="</span></p>",b+="<hr>",""!=h?(getFeatureIMG(h,f+"-"+h),b=b+'<img id="img-'+f+"-"+h+'" src="'+localStorage.theimg+'" class="img-responsive" alt="Cinque Terre" >'):b+="<br />",b+="<hr>",b+='<div class="lead" id="thecontent">',b+=g,b+="</div>",b+=localStorage.categoryID==vol?'<button type="button" class="btn btn-primary btn-block" onclick="postComment();">I Volunteer</button>':'<button type="button" class="btn btn-primary btn-block" onclick="postComment();">I Join</button>',b+="<hr>",document.getElementById("postContent").innerHTML=b}})}function getPostDatabyCategory(a){var b=a;$.ajax({type:"GET",url:serverUrl+"/wp-json/wp/v2/posts?categories="+b,dataType:"json",async:!1,headers:{Authorization:"Basic "+localStorage.nano},statusCode:{403:function(a){alert("Wrong Username and Password",null,"Wrong Creds","Try Again")},401:function(a){alert("Wrong Username and Password",null,"Wrong Creds","Try Again")}},success:function(a){console.log(a),console.log(a.length);var b="";if(a.length>0)for(var c=0;c<a.length;c++){var d=a[c].title.rendered,f=(a[c].link,a[c].date),g=a[c].id,h=a[c].excerpt.rendered,i=a[c].featured_media;b+='<div class="list-group-item-new">',b=b+'<div class="panel" onclick="gotoPostPage(\''+g+"');\">",b+='<div class="panel-heading-date">',b=b+'<span class="glyphicon glyphicon-time"></span> Posted on '+f+"</div>",""!=i?(getFeatureIMG(i,g+"-"+i),b=b+'<div class="panel-heading-post"><img id="img-'+g+"-"+i+'" src="'+localStorage.theimg+'" class="img-responsive" alt="Cinque Terre" ></div>'):b+='<div class="panel-heading-noimg"></div>',b+='<div class="panel-body-post">',b+='<h3 class="list-group-item-heading">',b+=d,b+='<span class="glyphicon glyphicon-chevron-right pull-right"></span></h3>',b+='<div class="list-group-item-text">',b+=h,b+="</div></div></div></div>"}else b+='<div class="list-group-item-new">',b+='<div class="panel">',b+='<div class="panel-heading-noimg"></div>',b+='<div class="panel-body-post">',b+='<h3 class="list-group-item-heading">',b+="Sorry",b+="</h3>",b+='<div class="list-group-item-text">',b+="No record found.",b+="</div></div></div></div>";document.getElementById("posted").innerHTML=b}})}function genModal(a){var b=a;$.ajax({type:"GET",url:serverUrl+"/wp-json/wp/v2/tags?post="+b,dataType:"json",async:!1,headers:{Authorization:"Basic "+localStorage.nano},statusCode:{403:function(a){alert("Sorry, invalid authentication",null,"Uh Oh!","Try Again")},400:function(a){alert("Sorry, not found",null,"Uh Oh!","Try Again")},500:function(a){alert("Sorry, system has error.",null,"Uh Oh!","Try Again")},401:function(a){alert("Sorry, invalid authentication. Please login",null,"Uh Oh!","Try Again")},409:function(a){alert("Sorry, Look like you are already joined.",null,"Uh Oh!","Try Again")}},success:function(a){console.log(a);var c=a[0].description;console.log(c),""!=c&&openBrowser(c)}})}function openBrowser(a){console.log(a),window.open(a,"_blank","location=yes")}function postComment(){console.log(localStorage.nano);var a=localStorage.postdetailID,b="Join";localStorage.categoryID==vol&&(b="Volunteer");var c={content:b,post:a};$.ajax({url:serverUrl+"/wp-json/wp/v2/comments",type:"POST",data:c,dataType:"json",async:!1,headers:{Authorization:"Basic "+localStorage.nano},statusCode:{403:function(a){alert("Sorry, invalid authentication",null,"Uh Oh!","Try Again")},400:function(a){alert("Sorry, not found",null,"Uh Oh!","Try Again")},500:function(a){alert("Sorry, system has error.",null,"Uh Oh!","Try Again")},401:function(a){alert("Sorry, invalid authentication. Please login",null,"Uh Oh!","Try Again")},409:function(a){alert("Sorry, Look like you are already joined.",null,"Uh Oh!","Try Again")}},success:function(a,b,c){alert("Thank.",null,"Hola!","Success"),localStorage.categoryID==vol&&genModal(localStorage.postdetailID)}})}var serverUrl="http://blast.zackseen.com",info=5,theevent=6,vol=7;